<div class="container">
    <!--<iframe src="../assets/cat.mp3" allow="autoplay" hidden></iframe>-->
    <div class="confetti" [@confetti]="state"></div>
    <div class="content" [@taskState]="state" (@taskState.done)="onAnimationEnd()">
        <div *ngIf="state === 'start' || state === 'start-next'">
            <!--<h1>–° –¥–Ω–µ–º —Ä–æ–∂–¥–µ–Ω–∏—è, –ö–∏—Å—ã–∫! üéâüéâüéâ</h1>
            <p class="cont">–í—ã –≥–æ—Ç–æ–≤—ã –Ω–∞—á–∞—Ç—å —Å–≤–æ–π –ø—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–π –∫–≤–µ—Å—Ü–∏–∫?</p>-->
            <button type="button" (click)="startQuest()">–ü–æ–≥–Ω–∞–ª–∏!</button>
        </div>

        <div *ngIf="state === 'current' || state === 'next'">
            <h3>{{i + 1}}/{{maxQ}}</h3>
            <!--<img [src]="task.pic" />-->
            <h2>{{task.task}}</h2>
            <form autocomplete="off" (submit)="checkAnswer()">
                <p class="error-text">{{isError ? '–ù–∏—Ü. –ü–æ–¥—É–º–æ–π—Ç–µ –µ—â—ë :<' : ''}}</p>
                <input type="text" placeholder="–í–∞—à –æ—Ç–≤–µ—Ç" name="answer" [(ngModel)]="answer" required 
                    [@input]="isError ? 'error' : ''" (focus)="clearError()"/>
                <button type="submit">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
            </form>
        </div>

        <div *ngIf="state === 'end'">
            <h3>–£—Ä—è—è!</h3>
        </div>
    </div>
</div>